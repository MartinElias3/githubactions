name: interact with Github API
on: 
  pull_request:

jobs:
  create-issue:
    runs-on: ubuntu-latest
    steps:
      -id: short-sha

      -run: |
        curl --request POST \
  --url https://api.github.com/repos/githubactions/issues \
  --header 'authorization: Bearer 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' \
  --header 'content-type: application/json' \
  --data '{
    "title": "Automated issue for commit: ${{ steps.short_sha.outputs.sha_short }}",
    "body": "This issue was automatically created by the GitHub Action workflow **${{ github.workflow }}**. \n\n The commit hash was: _${{ steps.short_sha.outputs.sha_short }}_."
    }' \
  --fail
